mutation UpdateNotebookVisitDate($beneficiaryId: uuid!, $notebookVisitDate: timestamptz!) {
	update_notebook_member(
		where: { notebook: { beneficiary: { id: { _eq: $beneficiaryId } } } }
		_set: { notebookVisitDate: $notebookVisitDate }
	) {
		returning {
			notebook {
				id
				cerObjects
				rights
				workSituations
				beneficiary {
					address1
					address2
					cafNumber
					city
					dateOfBirth
					email
					firstname
					id
					lastname
					mobileNumber
					peNumber
					postalCode
				}
				members(
					order_by: { notebookModificationDate: desc_nulls_last }
					limit: 1
					where: { notebookModificationDate: { _is_null: false } }
				) {
					id
					memberType
					notebookModificationDate
					notebookVisitDate
					professional {
						id
						lastname
						firstname
					}
				}
			}
		}
	}
}
